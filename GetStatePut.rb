#! ruby -Kurequire 'net/http'require 'uri'=begin# Kadecotサーバに接続されたEchonetLite対応機器の状態を取得して出力します。# 2014年9月7日（日）「笑いのある生活」ハッカソン / スマートハウス・ハッカーズ・ハッカソン#5# で作成したものです。# KadecotサーバのIPアドレスとデバイスNo.を適宜変更して下さい。# 以下、参考# Ref. 1, http://docs.ruby-lang.org/ja/1.8.7/library/net=2fhttp.html# Ref. 2, http://stackoverflow.com/questions/7826048/bad-uriis-not-uri# http://192.168.10.10:31413/jsonp/v1/devices/4?procedure=get&params={"propertyName":"OperationStatus"}# "->%22, {->%7B, }->%7D# http://192.168.10.10:31413/jsonp/v1/devices/4?procedure=get&params=%7B%22propertyName%22:%22OperationStatus%22%7D# Ref. 3, http://d.hatena.ne.jp/riocampos+tech/20131025/p1# URI.escape()# not need [ -> %5B, ] -> %5D=endtemp = URI.escape('http://192.168.10.10:31413/jsonp/v1/devices/4?procedure=get&params={"propertyName":"OperationStatus"}')uri = URI.parse(temp)Net::HTTP.get_print(uri)puts "\n"